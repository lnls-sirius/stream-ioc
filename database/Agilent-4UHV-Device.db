# Agilent-4UHV-Device.db

# Record definition file for one Agilent 4UHV Ion Pump Controller device. This is based on the work
# of Pete Owens from the Science and Technology Facilities Council (STFC).

# Parameters are:
#
# PORT - Name of the serial port configured in asynDriver.
#
# PREFIX - Prefix name for all PVs associated with the device.
#
# SERIAL_ADDRESS - Controller RS-485 serial address (from 0 to 31). For configuring this parameter,
# add 128 to the desired address. As an example, for the serial address 20, this parameter should be
# configured as 128 + 20 = 148.

# Fan temperature

record(longin, "$(PREFIX):FanTemperature-Mon") {
    field(DESC, "Fan temperature")
    field(DTYP, "stream")
    field(EGU, "Â°C")
    field(HOPR, "200")
    field(INP, "@Agilent-4UHV.proto getFanTemperature($(SERIAL_ADDRESS)) $(PORT)")
    field(LOPR, "0")
    field(PINI, "YES")
    field(SCAN, "10 second")
}

# Model

record(stringin, "$(PREFIX):Model-Cte") {
    field(DESC, "Device model")
    field(DTYP, "stream")
    field(INP, "@Agilent-4UHV.proto getModel($(SERIAL_ADDRESS)) $(PORT)")
    field(PINI, "YES")
    field(SCAN, "10 second")
}

# Serial number

record(stringin, "$(PREFIX):SerialNumber-Cte") {
    field(DESC, "Device serial number")
    field(DTYP, "stream")
    field(INP, "@Agilent-4UHV.proto getSerialNumber($(SERIAL_ADDRESS)) $(PORT)")
    field(PINI, "YES")
    field(SCAN, "10 second")
}
