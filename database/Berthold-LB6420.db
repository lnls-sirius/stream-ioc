# Berthold-LB6420.db

# Record definition file for one Berthold Technologies LB 6420 radiation probe.

# Each record defined below has the following parameters:
#
# PORT - Name of the port configured in asynDriver.
#
# PREFIX - Prefix name for all PVs associated with the device.

# Averaging time configuration for simple moving average of all probe parameters (readback)

record(longin, "$(PREFIX):AveragingTime-RB") {
    field(DESC, "Averaging time readback")
    field(DTYP, "stream")
    field(EGU, "s")
    field(INP, "@Berthold-LB6420.proto getAveragingTime $(PORT)")
    field(PINI, "YES")
    field(SCAN, "1 second")
}

# Averaging time configuration for simple moving average of all probe parameters (setpoint)

record(longout, "$(PREFIX):AveragingTime-SP") {
    field(DESC, "Averaging time setpoint")
    field(DRVH, "120")
    field(DRVL, "1")
    field(DTYP, "stream")
    field(EGU, "s")
    field(OUT, "@Berthold-LB6420.proto setAveragingTime $(PORT)")
    field(PINI, "YES")
}

# Gamma

record(ai, "$(PREFIX):Gamma") {
    field(DESC, "Gamma")
    field(DTYP, "stream")
    field(EGU, "uSv/h")
    field(INP, "@Berthold-LB6420.proto getGamma $(PORT)")
    field(PINI, "YES")
    field(PREC, "3")
    field(SCAN, "1 second")
}

# High energy neutrons

record(ai, "$(PREFIX):HighEnergyNeutrons") {
    field(DESC, "High energy neutrons")
    field(DTYP, "stream")
    field(EGU, "uSv/h")
    field(INP, "@Berthold-LB6420.proto getHighEnergyNeutrons $(PORT)")
    field(PINI, "YES")
    field(PREC, "3")
    field(SCAN, "1 second")
}

# Total dose rate

record(ai, "$(PREFIX):TotalDoseRate") {
    field(DESC, "Total dose rate")
    field(DTYP, "stream")
    field(EGU, "uSv/h")
    field(INP, "@Berthold-LB6420.proto getTotalDoseRate $(PORT)")
    field(PINI, "YES")
    field(PREC, "3")
    field(SCAN, "1 second")
}

# Total neutron rate

record(ai, "$(PREFIX):TotalNeutronRate") {
    field(DESC, "Total neutron rate")
    field(DTYP, "stream")
    field(EGU, "uSv/h")
    field(INP, "@Berthold-LB6420.proto getTotalNeutronRate $(PORT)")
    field(PINI, "YES")
    field(PREC, "3")
    field(SCAN, "1 second")
}

# Integral rate

record(ai, "$(PREFIX):DoseIntegral") {
    field(DESC, "Total neutron rate")
    field(DTYP, "stream")
    field(EGU, "uSv")
    field(INP, "@Berthold-LB6420.proto getIntegral $(PORT)")
    field(PINI, "YES")
    field(PREC, "3")
    field(SCAN, "1 second")
}

# Integral Gamma rate

record(ai, "$(PREFIX):IntegralGamma") {
    field(DESC, "IntegralGamma")
    field(DTYP, "stream")
    field(EGU, "uSv")
    field(INP, "@Berthold-LB6420.proto getIntegralGamma $(PORT)")
    field(PINI, "YES")
    field(PREC, "3")
    field(SCAN, "1 second")
}

# Integral Neutron rate

record(ai, "$(PREFIX):IntegralNeutron") {
    field(DESC, "IntegralNeutron")
    field(DTYP, "stream")
    field(EGU, "uSv")
    field(INP, "@Berthold-LB6420.proto getIntegralNeutron $(PORT)")
    field(PINI, "YES")
    field(PREC, "3")
    field(SCAN, "1 second")
}
